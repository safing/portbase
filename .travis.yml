language: go

os:
  - linux
  - windows

branches:
  only:
    - master
    - develop
    - /^feature\/travis\/.+$/ # feature/travis/*
    - /^fix\/travis\/.+$/ # fix/travis/*

before_install:
  - git config --global core.autocrlf false # disable to get LF line endings on windows

install:
  - go get -d -u github.com/golang/dep
  - go install github.com/golang/dep/cmd/dep
  - dep ensure
  - ./test install

script: ./test --scripted
